## ユーザーの言語設定を長期間保存する実装

### 1. Sessionの代わりにCookieを使用して言語設定を保存し、長期保存を実現する

`session`のロジックを削除し、`cookie`の書き込みを追加します。

ユーザーが言語を選択した際、URLから`lang`の値を取得し、cookieを作成して`lang`の値をcookieに渡します。

ページが読み込まれるたびに、`<c:choose>`を使用して、以下の優先順位でどの言語を表示するかを決定します：

* **P1 - URLパラメータ (`param.lang`):** 優先度が最も高い。もし「中国語」リンクをクリックしたばかりの場合、ページは次回の読み込みを待たずに、直ちに中国語を表示する必要があります。

* **P2 - Cookie (`cookie.user_lang.value`):** URLにパラメータがない場合、`user_lang` Cookieの値を読み取ります。これが「選択を記憶する」機能を実現する箇所です。

* **P3 - デフォルト値 ('ja'):** URLとCookieの両方がない場合（例：新規訪問者が初めてアクセスした場合）、固定のデフォルト言語を使用します。

---

### 2. Cookieの簡単な理解

クライアントのブラウザに保存される`map`のようなもので、多くの`key`と`value`が含まれています。コードによってこれらの値を作成または読み取ることができ、cookieの有効期限などの属性も設定できます。`sessionid`のように、自動的に作成されるcookieもあります。